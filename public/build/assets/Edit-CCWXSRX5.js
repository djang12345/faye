import{r as N,T as O,n as f,j as q,w as i,o as _,b as e,a as o,h as r,u as t,i as G,k as L,t as u,d as S,l as C,s as m,x as H,c as D,e as P,g as E}from"./app-DSbO2B8p.js";import{A as z}from"./AuthenticatedLayout-C2NJg4lw.js";import{_ as c}from"./InputLabel-C1GuHeQs.js";import{_ as b}from"./TextInput-gNCVnrGl.js";import{_ as p}from"./InputError-DwkthaFJ.js";import{P as R}from"./PrimaryButton-BPffH3Sp.js";import{_ as W}from"./SecondaryButton-Bk7HHJsq.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const J={class:"flex items-center justify-between"},K={class:"py-12"},Q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},X={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Y={class:"p-6"},Z={class:"bg-gray-50 p-4 rounded-lg"},ee={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},se={class:"mt-1 text-sm text-gray-900"},le={class:"mt-1 text-sm text-gray-900"},te={class:"bg-gray-50 p-4 rounded-lg"},oe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ae={class:"relative"},re=["max"],ne={class:"relative"},de=["min"],ie={key:0,class:"mt-3 bg-blue-100 p-3 rounded-lg"},ue={class:"flex items-center text-blue-800"},me={class:"ml-2"},ce={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},pe={class:"mt-1 relative"},be={class:"bg-green-50 p-4 rounded-lg"},ge={class:"grid grid-cols-2 gap-4"},xe={class:"font-semibold text-green-700"},ve={class:"font-semibold text-blue-600"},fe={class:"bg-yellow-50 p-4 rounded-lg"},ye={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},_e={class:"bg-green-50 p-4 rounded-lg"},we={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ve={class:"mt-1 relative"},ke={class:"mt-1 relative"},he={class:"mt-1 relative"},Se={class:"mt-1 relative"},De={key:0,class:"mt-4 bg-green-100 p-3 rounded-lg"},Pe={class:"flex items-center text-green-800"},Ae={class:"ml-2"},Ue={class:"bg-red-50 p-4 rounded-lg"},Ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Fe={class:"mt-1 relative"},Be={class:"mt-1 relative"},Ce={class:"mt-1 relative"},$e={class:"mt-1 relative"},He={class:"mt-1 relative"},Ee={key:0,class:"mt-4 bg-red-100 p-3 rounded-lg"},je={class:"flex items-center text-red-800"},Te={class:"ml-2"},Me={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ne={class:"bg-blue-50 p-4 rounded-lg"},Oe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},qe={class:"bg-green-100 p-4 rounded-lg"},Ge={class:"space-y-2"},Le={class:"flex justify-between"},ze={class:"text-green-700"},Re={class:"flex justify-between"},We={class:"text-green-700"},Je={class:"flex justify-between"},Ke={class:"text-green-700"},Qe={class:"flex justify-between font-bold"},Xe={class:"text-green-700"},Ye={class:"bg-red-100 p-4 rounded-lg"},Ze={class:"space-y-2"},es={class:"flex justify-between"},ss={class:"text-red-700"},ls={class:"flex justify-between"},ts={class:"text-red-700"},os={class:"flex justify-between"},as={class:"text-red-700"},rs={class:"flex justify-between"},ns={class:"text-red-700"},ds={class:"flex justify-between font-bold"},is={class:"text-red-700"},us={class:"mt-4 bg-blue-100 p-4 rounded-lg text-center"},ms={class:"text-blue-900 font-bold"},cs={class:"text-green-600"},ps={class:"flex items-center justify-between pt-6"},bs={class:"flex space-x-3"},gs=["disabled"],xs={key:0,class:"bx bx-save mr-1"},vs={key:1,class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Ds={__name:"Edit",props:{payroll:Object,isAdmin:Boolean},setup(F){const n=F,w=N(0),l=O({start_date:n.payroll.start_date,end_date:n.payroll.end_date,period:n.payroll.period,basic_salary:n.payroll.basic_salary,overtime_hours:n.payroll.overtime_hours,leave_days:n.payroll.leave_days,absent_days:n.payroll.absent_days,housing_allowance:n.payroll.housing_allowance,transport_allowance:n.payroll.transport_allowance,meal_allowance:n.payroll.meal_allowance,other_allowance:n.payroll.other_allowance,sss_deduction:n.payroll.sss_deduction,philhealth_deduction:n.payroll.philhealth_deduction,pagibig_deduction:n.payroll.pagibig_deduction,advance_deduction:n.payroll.advance_deduction,other_deduction:n.payroll.other_deduction,status:n.payroll.status,notes:n.payroll.notes}),A=f(()=>parseFloat(l.basic_salary)||0),V=f(()=>A.value/2),U=f(()=>{const x=parseFloat(l.overtime_hours)||0,s=A.value/160;return x*s*1.25}),y=f(()=>(parseFloat(l.housing_allowance)||0)+(parseFloat(l.transport_allowance)||0)+(parseFloat(l.meal_allowance)||0)+(parseFloat(l.other_allowance)||0)),k=f(()=>(parseFloat(l.sss_deduction)||0)+(parseFloat(l.philhealth_deduction)||0)+(parseFloat(l.pagibig_deduction)||0)+(parseFloat(l.advance_deduction)||0)+(parseFloat(l.other_deduction)||0)),$=f(()=>V.value+U.value+y.value-k.value),I=f(()=>l.start_date&&l.end_date&&l.period&&l.basic_salary),B=()=>{if(l.start_date&&l.end_date){const x=new Date(l.start_date),s=new Date(l.end_date);let h=0;const v=new Date(x);for(;v<=s;)v.getDay()!==0&&v.getDay()!==6&&h++,v.setDate(v.getDate()+1);w.value=h}},g=()=>{},j=()=>{var s;if(!I.value){alert("Please fill in all required fields before previewing.");return}const x=`
Payroll Preview:
Employee: ${(s=n.payroll.user)==null?void 0:s.name}
Period: ${l.period} (${l.start_date} to ${l.end_date})
Working Days: ${w.value}

Salary Breakdown:
- Basic Salary: ₱${d(A.value)}
- Gross Salary (Half Month): ₱${d(V.value)}
- Overtime Pay: ₱${d(U.value)}
- Total Allowances: ₱${d(y.value)}
- Total Deductions: ₱${d(k.value)}
- Net Salary: ₱${d($.value)}
    `;alert(x)},T=()=>{if(!I.value){alert("Please fill in all required fields.");return}l.put(`/admin/payroll/${n.payroll.id}`,{onSuccess:()=>{E.get("/admin/payroll")},onError:x=>{console.error("Form submission errors:",x)}})},M=()=>{E.get("/admin/payroll")},d=x=>x.toLocaleString();return B(),(x,s)=>(_(),q(z,null,{header:i(()=>[e("div",J,[s[19]||(s[19]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Edit Payroll Record ",-1)),o(t(G),{href:x.route("admin.payroll.index"),class:"inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700"},{default:i(()=>s[18]||(s[18]=[e("i",{class:"bx bx-arrow-back mr-1"},null,-1),r("Back to Payroll ")])),_:1},8,["href"])])]),default:i(()=>{var h,v;return[e("div",K,[e("div",Q,[e("div",X,[e("div",Y,[e("form",{onSubmit:L(T,["prevent"]),class:"space-y-6"},[e("div",Z,[s[22]||(s[22]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},[e("i",{class:"bx bx-user mr-2 text-blue-600"}),r(" Employee Information ")],-1)),e("div",ee,[e("div",null,[s[20]||(s[20]=e("label",{class:"block text-sm font-medium text-gray-700"},"Employee Name",-1)),e("p",se,u((h=F.payroll.user)==null?void 0:h.name),1)]),e("div",null,[s[21]||(s[21]=e("label",{class:"block text-sm font-medium text-gray-700"},"Employee Email",-1)),e("p",le,u((v=F.payroll.user)==null?void 0:v.email),1)])])]),e("div",te,[s[28]||(s[28]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4 flex items-center"},[e("i",{class:"bx bx-calendar mr-2 text-blue-600"}),r(" Pay Period Information ")],-1)),e("div",oe,[e("div",null,[o(c,{for:"start_date",value:"Start Date"}),e("div",ae,[s[23]||(s[23]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("i",{class:"bx bx-calendar text-gray-400"})],-1)),S(e("input",{id:"start_date",type:"date",class:m(["mt-1 block w-full pl-10 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",{"border-red-500":t(l).errors.start_date}]),"onUpdate:modelValue":s[0]||(s[0]=a=>t(l).start_date=a),required:"",onChange:B,max:t(l).end_date||""},null,42,re),[[C,t(l).start_date]])]),o(p,{message:t(l).errors.start_date,class:"mt-2"},null,8,["message"])]),e("div",null,[o(c,{for:"end_date",value:"End Date"}),e("div",ne,[s[24]||(s[24]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("i",{class:"bx bx-calendar text-gray-400"})],-1)),S(e("input",{id:"end_date",type:"date",class:m(["mt-1 block w-full pl-10 border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",{"border-red-500":t(l).errors.end_date}]),"onUpdate:modelValue":s[1]||(s[1]=a=>t(l).end_date=a),required:"",onChange:B,min:t(l).start_date||""},null,42,de),[[C,t(l).end_date]])]),o(p,{message:t(l).errors.end_date,class:"mt-2"},null,8,["message"])]),e("div",null,[o(c,{for:"period",value:"Pay Period"}),S(e("select",{id:"period","onUpdate:modelValue":s[2]||(s[2]=a=>t(l).period=a),class:m(["mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",{"border-red-500":t(l).errors.period}]),required:""},s[25]||(s[25]=[e("option",{value:""},"Choose period...",-1),e("option",{value:"1st Half"},"1st Half (1-15)",-1),e("option",{value:"2nd Half"},"2nd Half (16-31)",-1)]),2),[[H,t(l).period]]),o(p,{message:t(l).errors.period,class:"mt-2"},null,8,["message"])])]),w.value>0?(_(),D("div",ie,[e("div",ue,[s[26]||(s[26]=e("i",{class:"bx bx-calculator mr-2"},null,-1)),s[27]||(s[27]=e("span",{class:"font-semibold"},"Calculated:",-1)),e("span",me,u(w.value)+" working days ("+u(w.value*8)+" hours)",1)])])):P("",!0)]),e("div",ce,[e("div",null,[o(c,{for:"basic_salary",value:"Monthly Basic Salary",class:"flex items-center"},{default:i(()=>s[29]||(s[29]=[e("i",{class:"bx bx-money mr-2 text-green-600"},null,-1),r(" Basic Salary "),e("span",{class:"text-red-500 ml-1"},"*",-1)])),_:1}),e("div",pe,[s[30]||(s[30]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"₱")],-1)),o(b,{id:"basic_salary",type:"number",step:"0.01",class:m(["pl-8 block w-full",{"border-red-500":t(l).errors.basic_salary}]),modelValue:t(l).basic_salary,"onUpdate:modelValue":s[3]||(s[3]=a=>t(l).basic_salary=a),required:"",onInput:g},null,8,["class","modelValue"])]),o(p,{message:t(l).errors.basic_salary,class:"mt-2"},null,8,["message"])]),e("div",be,[s[33]||(s[33]=e("h4",{class:"text-green-800 font-semibold mb-2 flex items-center"},[e("i",{class:"bx bx-calculator mr-2"}),r(" Salary Breakdown ")],-1)),e("div",ge,[e("div",null,[s[31]||(s[31]=e("p",{class:"text-sm text-gray-600"},"Monthly:",-1)),e("p",xe,"₱"+u(d(A.value)),1)]),e("div",null,[s[32]||(s[32]=e("p",{class:"text-sm text-gray-600"},"Half Month:",-1)),e("p",ve,"₱"+u(d(V.value)),1)])])])]),e("div",fe,[s[40]||(s[40]=e("h3",{class:"text-lg font-semibold text-yellow-900 mb-4 flex items-center"},[e("i",{class:"bx bx-time mr-2"}),r(" Attendance Information ")],-1)),e("div",ye,[e("div",null,[o(c,{for:"overtime_hours",value:"Overtime Hours",class:"flex items-center"},{default:i(()=>s[34]||(s[34]=[e("i",{class:"bx bx-plus-circle mr-2 text-yellow-600"},null,-1),r(" Overtime Hours ")])),_:1}),o(b,{id:"overtime_hours",type:"number",step:"0.5",class:m(["mt-1 block w-full",{"border-red-500":t(l).errors.overtime_hours}]),modelValue:t(l).overtime_hours,"onUpdate:modelValue":s[4]||(s[4]=a=>t(l).overtime_hours=a),onInput:g},null,8,["class","modelValue"]),o(p,{message:t(l).errors.overtime_hours,class:"mt-2"},null,8,["message"]),s[35]||(s[35]=e("p",{class:"mt-1 text-sm text-gray-500"},"Extra hours worked (1.25x rate)",-1))]),e("div",null,[o(c,{for:"leave_days",value:"Leave Days",class:"flex items-center"},{default:i(()=>s[36]||(s[36]=[e("i",{class:"bx bx-calendar-minus mr-2 text-blue-600"},null,-1),r(" Leave Days ")])),_:1}),o(b,{id:"leave_days",type:"number",class:m(["mt-1 block w-full",{"border-red-500":t(l).errors.leave_days}]),modelValue:t(l).leave_days,"onUpdate:modelValue":s[5]||(s[5]=a=>t(l).leave_days=a)},null,8,["class","modelValue"]),o(p,{message:t(l).errors.leave_days,class:"mt-2"},null,8,["message"]),s[37]||(s[37]=e("p",{class:"mt-1 text-sm text-gray-500"},"Days on leave (paid)",-1))]),e("div",null,[o(c,{for:"absent_days",value:"Absent Days",class:"flex items-center"},{default:i(()=>s[38]||(s[38]=[e("i",{class:"bx bx-calendar-x mr-2 text-red-600"},null,-1),r(" Absent Days ")])),_:1}),o(b,{id:"absent_days",type:"number",class:m(["mt-1 block w-full",{"border-red-500":t(l).errors.absent_days}]),modelValue:t(l).absent_days,"onUpdate:modelValue":s[6]||(s[6]=a=>t(l).absent_days=a)},null,8,["class","modelValue"]),o(p,{message:t(l).errors.absent_days,class:"mt-2"},null,8,["message"]),s[39]||(s[39]=e("p",{class:"mt-1 text-sm text-gray-500"},"Unpaid absences",-1))])])]),e("div",_e,[s[51]||(s[51]=e("h3",{class:"text-lg font-semibold text-green-900 mb-4 flex items-center"},[e("i",{class:"bx bx-plus-circle mr-2"}),r(" Allowances & Benefits ")],-1)),e("div",we,[e("div",null,[o(c,{for:"housing_allowance",value:"Housing Allowance",class:"flex items-center"},{default:i(()=>s[41]||(s[41]=[e("i",{class:"bx bx-home mr-2 text-green-600"},null,-1),r(" Housing Allowance ")])),_:1}),e("div",Ve,[s[42]||(s[42]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"₱")],-1)),o(b,{id:"housing_allowance",type:"number",step:"0.01",class:m(["pl-8 block w-full",{"border-red-500":t(l).errors.housing_allowance}]),modelValue:t(l).housing_allowance,"onUpdate:modelValue":s[7]||(s[7]=a=>t(l).housing_allowance=a),onInput:g},null,8,["class","modelValue"])]),o(p,{message:t(l).errors.housing_allowance,class:"mt-2"},null,8,["message"])]),e("div",null,[o(c,{for:"transport_allowance",value:"Transport Allowance",class:"flex items-center"},{default:i(()=>s[43]||(s[43]=[e("i",{class:"bx bx-car mr-2 text-blue-600"},null,-1),r(" Transport Allowance ")])),_:1}),e("div",ke,[s[44]||(s[44]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"₱")],-1)),o(b,{id:"transport_allowance",type:"number",step:"0.01",class:m(["pl-8 block w-full",{"border-red-500":t(l).errors.transport_allowance}]),modelValue:t(l).transport_allowance,"onUpdate:modelValue":s[8]||(s[8]=a=>t(l).transport_allowance=a),onInput:g},null,8,["class","modelValue"])]),o(p,{message:t(l).errors.transport_allowance,class:"mt-2"},null,8,["message"])]),e("div",null,[o(c,{for:"meal_allowance",value:"Meal Allowance",class:"flex items-center"},{default:i(()=>s[45]||(s[45]=[e("i",{class:"bx bx-restaurant mr-2 text-yellow-600"},null,-1),r(" Meal Allowance ")])),_:1}),e("div",he,[s[46]||(s[46]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"₱")],-1)),o(b,{id:"meal_allowance",type:"number",step:"0.01",class:m(["pl-8 block w-full",{"border-red-500":t(l).errors.meal_allowance}]),modelValue:t(l).meal_allowance,"onUpdate:modelValue":s[9]||(s[9]=a=>t(l).meal_allowance=a),onInput:g},null,8,["class","modelValue"])]),o(p,{message:t(l).errors.meal_allowance,class:"mt-2"},null,8,["message"])]),e("div",null,[o(c,{for:"other_allowance",value:"Other Allowance",class:"flex items-center"},{default:i(()=>s[47]||(s[47]=[e("i",{class:"bx bx-gift mr-2 text-purple-600"},null,-1),r(" Other Allowance ")])),_:1}),e("div",Se,[s[48]||(s[48]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"₱")],-1)),o(b,{id:"other_allowance",type:"number",step:"0.01",class:m(["pl-8 block w-full",{"border-red-500":t(l).errors.other_allowance}]),modelValue:t(l).other_allowance,"onUpdate:modelValue":s[10]||(s[10]=a=>t(l).other_allowance=a),onInput:g},null,8,["class","modelValue"])]),o(p,{message:t(l).errors.other_allowance,class:"mt-2"},null,8,["message"])])]),y.value>0?(_(),D("div",De,[e("div",Pe,[s[49]||(s[49]=e("i",{class:"bx bx-calculator mr-2"},null,-1)),s[50]||(s[50]=e("span",{class:"font-semibold"},"Total Allowances:",-1)),e("span",Ae,"₱"+u(d(y.value)),1)])])):P("",!0)]),e("div",Ue,[s[64]||(s[64]=e("h3",{class:"text-lg font-semibold text-red-900 mb-4 flex items-center"},[e("i",{class:"bx bx-minus-circle mr-2"}),r(" Deductions & Taxes ")],-1)),e("div",Ie,[e("div",null,[o(c,{for:"sss_deduction",value:"SSS Contribution",class:"flex items-center"},{default:i(()=>s[52]||(s[52]=[e("i",{class:"bx bx-shield mr-2 text-blue-600"},null,-1),r(" SSS Contribution ")])),_:1}),e("div",Fe,[s[53]||(s[53]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"₱")],-1)),o(b,{id:"sss_deduction",type:"number",step:"0.01",class:m(["pl-8 block w-full",{"border-red-500":t(l).errors.sss_deduction}]),modelValue:t(l).sss_deduction,"onUpdate:modelValue":s[11]||(s[11]=a=>t(l).sss_deduction=a),onInput:g},null,8,["class","modelValue"])]),o(p,{message:t(l).errors.sss_deduction,class:"mt-2"},null,8,["message"])]),e("div",null,[o(c,{for:"philhealth_deduction",value:"PhilHealth",class:"flex items-center"},{default:i(()=>s[54]||(s[54]=[e("i",{class:"bx bx-plus-medical mr-2 text-blue-600"},null,-1),r(" PhilHealth ")])),_:1}),e("div",Be,[s[55]||(s[55]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"₱")],-1)),o(b,{id:"philhealth_deduction",type:"number",step:"0.01",class:m(["pl-8 block w-full",{"border-red-500":t(l).errors.philhealth_deduction}]),modelValue:t(l).philhealth_deduction,"onUpdate:modelValue":s[12]||(s[12]=a=>t(l).philhealth_deduction=a),onInput:g},null,8,["class","modelValue"])]),o(p,{message:t(l).errors.philhealth_deduction,class:"mt-2"},null,8,["message"])]),e("div",null,[o(c,{for:"pagibig_deduction",value:"Pag-IBIG",class:"flex items-center"},{default:i(()=>s[56]||(s[56]=[e("i",{class:"bx bx-home-heart mr-2 text-yellow-600"},null,-1),r(" Pag-IBIG ")])),_:1}),e("div",Ce,[s[57]||(s[57]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"₱")],-1)),o(b,{id:"pagibig_deduction",type:"number",step:"0.01",class:m(["pl-8 block w-full",{"border-red-500":t(l).errors.pagibig_deduction}]),modelValue:t(l).pagibig_deduction,"onUpdate:modelValue":s[13]||(s[13]=a=>t(l).pagibig_deduction=a),onInput:g},null,8,["class","modelValue"])]),o(p,{message:t(l).errors.pagibig_deduction,class:"mt-2"},null,8,["message"])]),e("div",null,[o(c,{for:"advance_deduction",value:"Salary Advance",class:"flex items-center"},{default:i(()=>s[58]||(s[58]=[e("i",{class:"bx bx-money-withdraw mr-2 text-red-600"},null,-1),r(" Salary Advance ")])),_:1}),e("div",$e,[s[59]||(s[59]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"₱")],-1)),o(b,{id:"advance_deduction",type:"number",step:"0.01",class:m(["pl-8 block w-full",{"border-red-500":t(l).errors.advance_deduction}]),modelValue:t(l).advance_deduction,"onUpdate:modelValue":s[14]||(s[14]=a=>t(l).advance_deduction=a),onInput:g},null,8,["class","modelValue"])]),o(p,{message:t(l).errors.advance_deduction,class:"mt-2"},null,8,["message"])]),e("div",null,[o(c,{for:"other_deduction",value:"Other Deductions",class:"flex items-center"},{default:i(()=>s[60]||(s[60]=[e("i",{class:"bx bx-minus-circle mr-2 text-gray-600"},null,-1),r(" Other Deductions ")])),_:1}),e("div",He,[s[61]||(s[61]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"₱")],-1)),o(b,{id:"other_deduction",type:"number",step:"0.01",class:m(["pl-8 block w-full",{"border-red-500":t(l).errors.other_deduction}]),modelValue:t(l).other_deduction,"onUpdate:modelValue":s[15]||(s[15]=a=>t(l).other_deduction=a),onInput:g},null,8,["class","modelValue"])]),o(p,{message:t(l).errors.other_deduction,class:"mt-2"},null,8,["message"])])]),k.value>0?(_(),D("div",Ee,[e("div",je,[s[62]||(s[62]=e("i",{class:"bx bx-calculator mr-2"},null,-1)),s[63]||(s[63]=e("span",{class:"font-semibold"},"Total Deductions:",-1)),e("span",Te,"₱"+u(d(k.value)),1)])])):P("",!0)]),e("div",Me,[e("div",null,[o(c,{for:"status",value:"Status",class:"flex items-center"},{default:i(()=>s[65]||(s[65]=[e("i",{class:"bx bx-check-circle mr-2 text-blue-600"},null,-1),r(" Payroll Status ")])),_:1}),S(e("select",{id:"status","onUpdate:modelValue":s[16]||(s[16]=a=>t(l).status=a),class:m(["mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",{"border-red-500":t(l).errors.status}]),required:""},s[66]||(s[66]=[e("option",{value:"draft"},"Draft",-1),e("option",{value:"pending"},"Pending",-1),e("option",{value:"approved"},"Approved",-1),e("option",{value:"paid"},"Paid",-1),e("option",{value:"cancelled"},"Cancelled",-1)]),2),[[H,t(l).status]]),o(p,{message:t(l).errors.status,class:"mt-2"},null,8,["message"])]),e("div",null,[o(c,{for:"notes",value:"Additional Notes",class:"flex items-center"},{default:i(()=>s[67]||(s[67]=[e("i",{class:"bx bx-note mr-2 text-blue-600"},null,-1),r(" Notes ")])),_:1}),S(e("textarea",{id:"notes","onUpdate:modelValue":s[17]||(s[17]=a=>t(l).notes=a),rows:"3",class:m(["mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",{"border-red-500":t(l).errors.notes}]),placeholder:"Enter any additional notes or comments..."},null,2),[[C,t(l).notes]]),o(p,{message:t(l).errors.notes,class:"mt-2"},null,8,["message"])])]),e("div",Ne,[s[83]||(s[83]=e("h3",{class:"text-lg font-semibold text-blue-900 mb-4 flex items-center"},[e("i",{class:"bx bx-calculator mr-2"}),r(" Salary Summary ")],-1)),e("div",Oe,[e("div",qe,[s[73]||(s[73]=e("h6",{class:"text-green-800 font-semibold mb-3 flex items-center"},[e("i",{class:"bx bx-plus-circle mr-2"}),r(" Earnings ")],-1)),e("div",Ge,[e("div",Le,[s[68]||(s[68]=e("span",{class:"text-gray-700"},"Gross Salary:",-1)),e("strong",ze,"₱"+u(d(V.value)),1)]),e("div",Re,[s[69]||(s[69]=e("span",{class:"text-gray-700"},"Overtime Pay:",-1)),e("strong",We,"₱"+u(d(U.value)),1)]),e("div",Je,[s[70]||(s[70]=e("span",{class:"text-gray-700"},"Total Allowances:",-1)),e("strong",Ke,"₱"+u(d(y.value)),1)]),s[72]||(s[72]=e("hr",{class:"my-2"},null,-1)),e("div",Qe,[s[71]||(s[71]=e("span",{class:"text-gray-700"},"Total Earnings:",-1)),e("strong",Xe,"₱"+u(d(V.value+U.value+y.value)),1)])])]),e("div",Ye,[s[80]||(s[80]=e("h6",{class:"text-red-800 font-semibold mb-3 flex items-center"},[e("i",{class:"bx bx-minus-circle mr-2"}),r(" Deductions ")],-1)),e("div",Ze,[e("div",es,[s[74]||(s[74]=e("span",{class:"text-gray-700"},"SSS:",-1)),e("strong",ss,"₱"+u(d(parseFloat(t(l).sss_deduction)||0)),1)]),e("div",ls,[s[75]||(s[75]=e("span",{class:"text-gray-700"},"PhilHealth:",-1)),e("strong",ts,"₱"+u(d(parseFloat(t(l).philhealth_deduction)||0)),1)]),e("div",os,[s[76]||(s[76]=e("span",{class:"text-gray-700"},"Pag-IBIG:",-1)),e("strong",as,"₱"+u(d(parseFloat(t(l).pagibig_deduction)||0)),1)]),e("div",rs,[s[77]||(s[77]=e("span",{class:"text-gray-700"},"Other Deductions:",-1)),e("strong",ns,"₱"+u(d(parseFloat(t(l).advance_deduction)+parseFloat(t(l).other_deduction)||0)),1)]),s[79]||(s[79]=e("hr",{class:"my-2"},null,-1)),e("div",ds,[s[78]||(s[78]=e("span",{class:"text-gray-700"},"Total Deductions:",-1)),e("strong",is,"₱"+u(d(k.value)),1)])])])]),e("div",us,[e("h4",ms,[s[81]||(s[81]=e("i",{class:"bx bx-money mr-2"},null,-1)),s[82]||(s[82]=r(" Net Salary: ")),e("span",cs,"₱"+u(d($.value)),1)])])]),e("div",ps,[o(W,{type:"button",onClick:M,class:"flex items-center"},{default:i(()=>s[84]||(s[84]=[e("i",{class:"bx bx-arrow-back mr-1"},null,-1),r(" Cancel ")])),_:1}),e("div",bs,[e("button",{type:"button",class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150",onClick:j,disabled:!I.value},s[85]||(s[85]=[e("i",{class:"bx bx-show mr-1"},null,-1),r(" Preview ")]),8,gs),o(R,{type:"submit",disabled:t(l).processing||!I.value,class:"flex items-center"},{default:i(()=>[t(l).processing?P("",!0):(_(),D("i",xs)),t(l).processing?(_(),D("svg",vs,s[86]||(s[86]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):P("",!0),r(" "+u(t(l).processing?"Updating...":"Update Payroll Record"),1)]),_:1},8,["disabled"])])])],32)])])])])]}),_:1}))}};export{Ds as default};
