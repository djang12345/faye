import{T as A,c as p,a as w,u as s,w as u,F as C,o as i,Z as k,b as t,j as m,h as l,i as b,e as o,t as n,k as E,d as v,l as g}from"./app-DSbO2B8p.js";import{A as B}from"./AuthenticatedLayout-C2NJg4lw.js";import{f as h,a as D}from"./functions-DzHC9xVL.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"container-fluid p-2"},T={class:"d-flex flex-row gap-2"},N={key:3},P={key:0,class:"alert alert-warning mt-3",role:"alert"},M={key:1,class:"alert alert-success mt-3",role:"alert"},j={key:2,class:"alert alert-danger mt-3",role:"alert"},F={key:3,class:"mt-3"},V={class:"alert alert-success"},O={key:0,class:"alert alert-info"},R={class:"mt-2"},L={class:"mb-1"},G={class:"mb-1"},q={class:"container mt-3"},z={class:"row"},U={class:"col-md-6"},W={class:"border p-2 rounded review-info"},H={id:"applicantName"},J={id:"applicantEmail"},Y={id:"applicantAge"},Z={id:"applicantSex"},$={id:"applicantBirthdate"},K={id:"applicantHeight"},Q={id:"applicantWeight"},X={id:"applicantStatus"},_={id:"applicantCitizenship"},tt={id:"applicantAddress"},et={key:0,class:"col-md-6"},at={class:"border p-2 rounded review-info"},nt={key:0},it={id:"parentMothername"},lt={id:"parentMotherOccupation"},st={key:1},ot={id:"parentFathername"},rt={id:"parentFatherOccupation"},dt={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},pt={class:"modal-dialog modal-lg"},ct={class:"modal-content"},ut={class:"modal-body"},mt={class:"row"},bt={class:"col-md-12"},ft={class:"mb-3"},wt=["min"],vt={class:"mb-3"},At={__name:"View",props:{applicant:{type:Array}},setup(a){const f=a,r=A({interview_date:"",interview_time:""});(()=>{const d=new Date;d.setDate(d.getDate()+1),r.interview_date=d.toISOString().split("T")[0],r.interview_time="09:00"})();const y=new Date,x=()=>{if(!r.interview_date||!r.interview_time){Swal.fire({icon:"error",title:"Missing Information",text:"Please fill in both interview date and time."});return}console.log("Form data:",r.data()),Swal.fire({title:"Are you sure?",text:"Are you sure you want to accept this applicant. Continue?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(d=>{d.isConfirmed&&(Swal.fire({title:"Processing...",showConfirmButton:!1,willOpen:()=>{Swal.showLoading()}}),r.post(route("applicant.accept",f.applicant.id),{preserveScroll:!1,preserveState:!1,onSuccess:()=>{Swal.fire({title:"Success",text:"Applicant has been accepted",icon:"success"})},onError:e=>{console.error("Form submission errors:",e),Swal.fire({icon:"error",title:"Error",text:"There was an error processing the request. Please try again."})}}))})},S=()=>{Swal.fire({title:"Are you sure?",text:"Are you sure you want to reject this applicant. Continue?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(d=>{d.isConfirmed&&(Swal.fire({title:"Processing...",showConfirmButton:!1,willOpen:()=>{Swal.showLoading()}}),r.post(route("applicant.reject",f.applicant.id),{preserveScroll:!1,preserveState:!1,onSuccess:()=>{Swal.fire({title:"Success",text:"Applicant has been rejected",icon:"success"})}}))})};return(d,e)=>(i(),p(C,null,[w(s(k),{title:"Applicant"}),w(B,null,{default:u(()=>[t("div",I,[e[31]||(e[31]=t("p",{class:"fw-normal"},"View applicant details",-1)),t("div",T,[a.applicant.application.status==="PENDING"?(i(),m(s(b),{key:0,href:d.route("applicant.pending.index"),"data-switcher":"","data-tab":"applicants",class:"btn btn-secondary"},{default:u(()=>e[3]||(e[3]=[t("i",{class:"bx bx-arrow-back"},null,-1),l(" Back")])),_:1},8,["href"])):o("",!0),a.applicant.application.status==="ACCEPTED"?(i(),m(s(b),{key:1,href:d.route("applicant.accepted.index"),"data-switcher":"","data-tab":"applicants",class:"btn btn-secondary"},{default:u(()=>e[4]||(e[4]=[t("i",{class:"bx bx-arrow-back"},null,-1),l(" Back")])),_:1},8,["href"])):o("",!0),a.applicant.application.status==="REJECTED"?(i(),m(s(b),{key:2,href:d.route("applicant.rejected.index"),"data-switcher":"","data-tab":"applicants",class:"btn btn-secondary"},{default:u(()=>e[5]||(e[5]=[t("i",{class:"bx bx-arrow-back"},null,-1),l(" Back")])),_:1},8,["href"])):o("",!0),a.applicant.application.status==="PENDING"?(i(),p("div",N,[e[6]||(e[6]=t("button",{type:"button",class:"btn btn-primary me-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," Accept ",-1)),t("button",{type:"button",class:"btn btn-danger",onClick:S}," Reject ")])):o("",!0)]),a.applicant.application.status==="PENDING"?(i(),p("div",P," Pending ")):o("",!0),a.applicant.application.status==="ACCEPTED"?(i(),p("div",M," Accepted ")):o("",!0),a.applicant.application.status==="REJECTED"?(i(),p("div",j," Rejected ")):o("",!0),a.applicant.application.status==="ACCEPTED"?(i(),p("div",F,[t("div",V,[e[7]||(e[7]=t("i",{class:"bx bx-calendar-check me-2"},null,-1)),e[8]||(e[8]=t("strong",null,"Scheduled Interview:",-1)),l(" "+n(s(h)(a.applicant.application.interview_date))+" at "+n(s(D)(a.applicant.application.interview_time)),1)]),a.applicant.user?(i(),p("div",O,[e[12]||(e[12]=t("i",{class:"bx bx-user-check me-2"},null,-1)),e[13]||(e[13]=t("strong",null,"Employee Account Created:",-1)),t("div",R,[t("p",L,[e[9]||(e[9]=t("strong",null,"Email:",-1)),l(" "+n(a.applicant.user.email),1)]),t("p",G,[e[10]||(e[10]=t("strong",null,"Role:",-1)),l(" "+n(a.applicant.user.role),1)]),e[11]||(e[11]=t("p",{class:"mb-0"},[t("strong",null,"Account Status:"),l(),t("span",{class:"badge bg-success"},"Active")],-1))])])):o("",!0)])):o("",!0),t("div",q,[e[30]||(e[30]=t("h2",{class:"text-center mb-4"},"Review Information",-1)),t("div",z,[t("div",U,[e[24]||(e[24]=t("h3",{class:"section-header"},"Applicant Information",-1)),t("div",W,[e[14]||(e[14]=t("p",null,[t("strong",null,"Name: ")],-1)),t("p",H,n(a.applicant.lastname)+", "+n(a.applicant.firstname)+" "+n(a.applicant.middlename),1),e[15]||(e[15]=t("p",null,[t("strong",null,"Email: ")],-1)),t("p",J,n(a.applicant.email),1),e[16]||(e[16]=t("p",null,[t("strong",null,[l("Age: "),t("p",{id:"applicantAge"})])],-1)),t("p",Y,n(a.applicant.age),1),e[17]||(e[17]=t("p",null,[t("strong",null,"Sex: ")],-1)),t("p",Z,n(a.applicant.sex),1),e[18]||(e[18]=t("p",null,[t("strong",null,"Birthdate: ")],-1)),t("p",$,n(s(h)(a.applicant.birthdate)),1),e[19]||(e[19]=t("p",null,[t("strong",null,"Height: ")],-1)),t("p",K,n(a.applicant.height),1),e[20]||(e[20]=t("p",null,[t("strong",null,"Weight: ")],-1)),t("p",Q,n(a.applicant.weight),1),e[21]||(e[21]=t("p",null,[t("strong",null,"Status: ")],-1)),t("p",X,n(a.applicant.status),1),e[22]||(e[22]=t("p",null,[t("strong",null,"Citizenship: ")],-1)),t("p",_,n(a.applicant.citizenship),1),e[23]||(e[23]=t("p",null,[t("strong",null,[l("Address: "),t("p",{id:"applicantAddress"})])],-1)),t("p",tt,n(a.applicant.barangay)+", "+n(a.applicant.municipality)+", "+n(a.applicant.province)+", "+n(a.applicant.country),1)])]),a.applicant.parents!=null?(i(),p("div",et,[e[29]||(e[29]=t("h3",{class:"section-header"}," Parents/Guardian Information ",-1)),t("div",at,[a.applicant.parents.mother_firstname!=null?(i(),p("div",nt,[e[25]||(e[25]=t("p",null,[t("strong",null,"Mother's Name: ")],-1)),t("p",it,n(a.applicant.parents.mother_lastname)+", "+n(a.applicant.parents.mother_fistname)+" "+n(a.applicant.parents.mother_middlename),1),e[26]||(e[26]=t("p",null,[t("strong",null,"Mother's Occupation: ")],-1)),t("p",lt,n(a.applicant.parents.mother_occupation),1)])):o("",!0),a.applicant.parents.father_firstname!=null?(i(),p("div",st,[e[27]||(e[27]=t("p",null,[t("strong",null,"Father's Name: ")],-1)),t("p",ot,n(a.applicant.parents.father_lastname)+", "+n(a.applicant.parents.father_fistname)+" "+n(a.applicant.parents.father_middlename),1),e[28]||(e[28]=t("p",null,[t("strong",null,"Father's Occupation: ")],-1)),t("p",rt,n(a.applicant.parents.father_occupation),1)])):o("",!0)])])):o("",!0)])])]),t("div",dt,[t("div",pt,[t("div",ct,[e[38]||(e[38]=t("div",{class:"modal-header bg-success text-white"},[t("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},[t("i",{class:"bx bx-calendar-check me-2"}),l("Accept Applicant & Schedule Interview ")]),t("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),t("form",{onSubmit:e[2]||(e[2]=E(c=>x(),["prevent"]))},[t("div",ut,[e[35]||(e[35]=t("div",{class:"alert alert-info"},[t("i",{class:"bx bx-info-circle me-2"}),t("strong",null,"Important:"),l(" When you accept this applicant, they will receive a congratulatory email with the interview schedule. Employee account creation will be handled separately in the Users section. ")],-1)),t("div",mt,[t("div",bt,[e[34]||(e[34]=t("h6",{class:"text-primary mb-3"},"Interview Schedule",-1)),t("div",ft,[e[32]||(e[32]=t("label",{class:"form-label"},"Interview Date",-1)),v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>s(r).interview_date=c),min:s(y),type:"date",class:"form-control",required:""},null,8,wt),[[g,s(r).interview_date]])]),t("div",vt,[e[33]||(e[33]=t("label",{class:"form-label"},"Interview Time",-1)),v(t("input",{"onUpdate:modelValue":e[1]||(e[1]=c=>s(r).interview_time=c),type:"time",class:"form-control",required:""},null,512),[[g,s(r).interview_time]])])])]),e[36]||(e[36]=t("div",{class:"alert alert-success"},[t("i",{class:"bx bx-envelope me-2"}),t("strong",null,"Email Notification:"),l(" The applicant will receive a congratulatory email with the interview details and next steps. ")],-1))]),e[37]||(e[37]=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Cancel "),t("button",{type:"submit",class:"btn btn-success"},[t("i",{class:"bx bx-check me-1"}),l("Accept & Schedule Interview ")])],-1))],32)])])])]),_:1})],64))}};export{At as default};
